(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let i=s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("rounded-xl border border-biru border-2 bg-card text-card-foreground shadow",e),...s}));i.displayName="Card";let r=s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("flex flex-col text-[#393939] space-y-1.5 p-6",e),...s}));r.displayName="CardHeader";let n=s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle",s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let o=s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>i,"CardContent",()=>o,"CardHeader",()=>r,"CardTitle",()=>n])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},24687,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let i=s.forwardRef(({className:e,...s},i)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));i.displayName="Textarea",e.s(["Textarea",()=>i])},76639,26999,e=>{"use strict";let t,s;var a,i=e.i(43476),r=e.i(71645),n=e.i(81140),o=e.i(20783),l=e.i(10772),d=e.i(69340),c=e.i(26330),u=e.i(65491),m=e.i(74606),p=e.i(96626);function f(e){var t;let s,a=(t=e,(s=r.forwardRef((e,t)=>{let{children:s,...a}=e;if(r.isValidElement(s)){var i;let e,n,l=(i=s,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let s={...t};for(let a in t){let i=e[a],r=t[a];/^on[A-Z]/.test(a)?i&&r?s[a]=(...e)=>{let t=r(...e);return i(...e),t}:i&&(s[a]=i):"style"===a?s[a]={...i,...r}:"className"===a&&(s[a]=[i,r].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props);return s.type!==r.Fragment&&(d.ref=t?(0,o.composeRefs)(t,l):l),r.cloneElement(s,d)}return r.Children.count(s)>1?r.Children.only(null):null})).displayName=`${t}.SlotClone`,s),n=r.forwardRef((e,t)=>{let{children:s,...n}=e,o=r.Children.toArray(s),l=o.find(g);if(l){let e=l.props.children,s=o.map(t=>t!==l?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,i.jsx)(a,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,i.jsx)(a,{...n,ref:t,children:s})});return n.displayName=`${e}.Slot`,n}e.i(74080);var x=Symbol("radix.slottable");function g(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===x}var h=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=f(`Primitive.${t}`),a=r.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(r?s:t,{...n,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),j=e.i(3536),y=e.i(85369),v=e.i(86312),N="Dialog",[b,w]=function(e,t=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return a.scopeName=e,[function(t,a){let n=r.createContext(a),o=s.length;s=[...s,a];let l=t=>{let{scope:s,children:a,...l}=t,d=s?.[e]?.[o]||n,c=r.useMemo(()=>l,Object.values(l));return(0,i.jsx)(d.Provider,{value:c,children:a})};return l.displayName=t+"Provider",[l,function(s,i){let l=i?.[e]?.[o]||n,d=r.useContext(l);if(d)return d;if(void 0!==a)return a;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:s,scopeName:a})=>{let i=s(e)[`__scope${a}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(a,...t)]}(N),[k,C]=b(N),D=e=>{let{__scopeDialog:t,children:s,open:a,defaultOpen:n,onOpenChange:o,modal:c=!0}=e,u=r.useRef(null),m=r.useRef(null),[p,f]=(0,d.useControllableState)({prop:a,defaultProp:n??!1,onChange:o,caller:N});return(0,i.jsx)(k,{scope:t,triggerRef:u,contentRef:m,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:p,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:c,children:s})};D.displayName=N;var z="DialogTrigger",I=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(z,s),l=(0,o.useComposedRefs)(t,r.triggerRef);return(0,i.jsx)(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":q(r.open),...a,ref:l,onClick:(0,n.composeEventHandlers)(e.onClick,r.onOpenToggle)})});I.displayName=z;var R="DialogPortal",[S,P]=b(R,{forceMount:void 0}),M=e=>{let{__scopeDialog:t,forceMount:s,children:a,container:n}=e,o=C(R,t);return(0,i.jsx)(S,{scope:t,forceMount:s,children:r.Children.map(a,e=>(0,i.jsx)(p.Presence,{present:s||o.open,children:(0,i.jsx)(m.Portal,{asChild:!0,container:n,children:e})}))})};M.displayName=R;var E="DialogOverlay",A=r.forwardRef((e,t)=>{let s=P(E,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,n=C(E,e.__scopeDialog);return n.modal?(0,i.jsx)(p.Presence,{present:a||n.open,children:(0,i.jsx)(T,{...r,ref:t})}):null});A.displayName=E;var O=f("DialogOverlay.RemoveScroll"),T=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(E,s);return(0,i.jsx)(y.RemoveScroll,{as:O,allowPinchZoom:!0,shards:[r.contentRef],children:(0,i.jsx)(h.div,{"data-state":q(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),F="DialogContent",L=r.forwardRef((e,t)=>{let s=P(F,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,n=C(F,e.__scopeDialog);return(0,i.jsx)(p.Presence,{present:a||n.open,children:n.modal?(0,i.jsx)($,{...r,ref:t}):(0,i.jsx)(_,{...r,ref:t})})});L.displayName=F;var $=r.forwardRef((e,t)=>{let s=C(F,e.__scopeDialog),a=r.useRef(null),l=(0,o.useComposedRefs)(t,s.contentRef,a);return r.useEffect(()=>{let e=a.current;if(e)return(0,v.hideOthers)(e)},[]),(0,i.jsx)(B,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),_=r.forwardRef((e,t)=>{let s=C(F,e.__scopeDialog),a=r.useRef(!1),n=r.useRef(!1);return(0,i.jsx)(B,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||s.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let i=t.target;s.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),B=r.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:l,...d}=e,m=C(F,s),p=r.useRef(null),f=(0,o.useComposedRefs)(t,p);return(0,j.useFocusGuards)(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,i.jsx)(c.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...d,ref:f,onDismiss:()=>m.onOpenChange(!1)})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Y,{titleId:m.titleId}),(0,i.jsx)(Q,{contentRef:p,descriptionId:m.descriptionId})]})]})}),H="DialogTitle",V=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(H,s);return(0,i.jsx)(h.h2,{id:r.titleId,...a,ref:t})});V.displayName=H;var W="DialogDescription",J=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(W,s);return(0,i.jsx)(h.p,{id:r.descriptionId,...a,ref:t})});J.displayName=W;var K="DialogClose",Z=r.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(K,s);return(0,i.jsx)(h.button,{type:"button",...a,ref:t,onClick:(0,n.composeEventHandlers)(e.onClick,()=>r.onOpenChange(!1))})});function q(e){return e?"open":"closed"}Z.displayName=K;var U="DialogTitleWarning",[G,X]=(a={contentName:F,titleName:H,docsSlug:"dialog"},t=r.createContext(a),(s=e=>{let{children:s,...a}=e,n=r.useMemo(()=>a,Object.values(a));return(0,i.jsx)(t.Provider,{value:n,children:s})}).displayName=U+"Provider",[s,function(e){let s=r.useContext(t);if(s)return s;if(void 0!==a)return a;throw Error(`\`${e}\` must be used within \`${U}\``)}]),Y=({titleId:e})=>{let t=X(U),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Q=({contentRef:e,descriptionId:t})=>{let s=X("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return r.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null};e.s(["Close",()=>Z,"Content",()=>L,"Description",()=>J,"Overlay",()=>A,"Portal",()=>M,"Root",()=>D,"Title",()=>V,"Trigger",()=>I,"WarningProvider",()=>G,"createDialogScope",()=>w],26999);var ee=e.i(37727),et=e.i(75157);let es=r.forwardRef(({className:e,...t},s)=>(0,i.jsx)(A,{ref:s,className:(0,et.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));es.displayName=A.displayName;let ea=r.forwardRef(({className:e,children:t,...s},a)=>(0,i.jsxs)(M,{children:[(0,i.jsx)(es,{}),(0,i.jsxs)(L,{ref:a,className:(0,et.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,i.jsxs)(Z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(ee.X,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));ea.displayName=L.displayName;let ei=({className:e,...t})=>(0,i.jsx)("div",{className:(0,et.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ei.displayName="DialogHeader";let er=({className:e,...t})=>(0,i.jsx)("div",{className:(0,et.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});er.displayName="DialogFooter";let en=r.forwardRef(({className:e,...t},s)=>(0,i.jsx)(V,{ref:s,className:(0,et.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));en.displayName=V.displayName;let eo=r.forwardRef(({className:e,...t},s)=>(0,i.jsx)(J,{ref:s,className:(0,et.cn)("text-sm text-muted-foreground",e),...t}));eo.displayName=J.displayName,e.s(["Dialog",()=>D,"DialogContent",()=>ea,"DialogDescription",()=>eo,"DialogFooter",()=>er,"DialogHeader",()=>ei,"DialogTitle",()=>en,"DialogTrigger",()=>I],76639)},2747,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function a({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",e),...a})}e.s(["Skeleton",()=>a])},78917,7874,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917);var s=e.i(43476),a=e.i(71645),i=e.i(53145),r=e.i(94814),n=e.i(81307);let o=n.z.object({title:n.z.string().min(1,"Judul sesi wajib diisi").max(100,"Judul maksimal 100 karakter"),description:n.z.string().max(500,"Deskripsi maksimal 500 karakter").optional(),scheduledAt:n.z.string().min(1,"Jadwal wajib diisi"),zoomLink:n.z.string().url("Format link tidak valid").optional().or(n.z.literal("")),zoomMeetingId:n.z.string().optional(),zoomPasscode:n.z.string().optional()});n.z.object({classSessionId:n.z.string().min(1,"Class session ID wajib diisi")});var l=e.i(76639),d=e.i(19455),c=e.i(93479),u=e.i(10204),m=e.i(24687);function p({open:e,onOpenChange:t,onSuccess:n,mode:p="create",initialValues:f=null,sessionId:x}){let[g,h]=(0,a.useState)(!1),[j,y]=(0,a.useState)(""),{register:v,handleSubmit:N,reset:b,formState:{errors:w}}=(0,i.useForm)({resolver:(0,r.zodResolver)(o)});(0,a.useEffect)(()=>{if(!e){b(),y("");return}f&&b({...f,scheduledAt:(e=>{if(!e)return"";let t=new Date(e),s=e=>String(e).padStart(2,"0"),a=t.getFullYear(),i=s(t.getMonth()+1),r=s(t.getDate()),n=s(t.getHours()),o=s(t.getMinutes());return`${a}-${i}-${r}T${n}:${o}`})(f.scheduledAt),zoomLink:f.zoomLink??"",zoomMeetingId:f.zoomMeetingId??"",zoomPasscode:f.zoomPasscode??"",description:f.description??""})},[e,b,f]);let k=async e=>{h(!0),y("");try{let t="edit"===p&&x?`/api/class-sessions/${x}`:"/api/class-sessions",s=await fetch(t,{method:"edit"===p&&x?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,scheduledAt:new Date(e.scheduledAt).toISOString()})});if(!s.ok){let e=await s.json();throw Error(e.error||"Gagal menyimpan sesi")}n()}catch(e){y(e instanceof Error?e.message:"Terjadi kesalahan")}finally{h(!1)}};return(0,s.jsx)(l.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(l.DialogContent,{className:"max-w-md bg-white text-black",children:[(0,s.jsx)(l.DialogHeader,{children:(0,s.jsx)(l.DialogTitle,{children:"edit"===p?"Edit Sesi Kelas":"Tambah Sesi Kelas"})}),(0,s.jsxs)("form",{onSubmit:N(k),className:"space-y-4",children:[j&&(0,s.jsx)("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:j}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{htmlFor:"title",children:"Judul Sesi *"}),(0,s.jsx)(c.Input,{id:"title",placeholder:"Contoh: Sesi Pembahasan Soal Matematika",...v("title")}),w.title&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:w.title.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{htmlFor:"description",children:"Deskripsi"}),(0,s.jsx)(m.Textarea,{id:"description",placeholder:"Deskripsi singkat tentang sesi ini...",rows:3,...v("description")}),w.description&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:w.description.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{htmlFor:"scheduledAt",children:"Jadwal *"}),(0,s.jsx)(c.Input,{id:"scheduledAt",type:"datetime-local",...v("scheduledAt")}),w.scheduledAt&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:w.scheduledAt.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{htmlFor:"zoomLink",children:"Link Zoom"}),(0,s.jsx)(c.Input,{id:"zoomLink",placeholder:"https://zoom.us/j/...",...v("zoomLink")}),w.zoomLink&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:w.zoomLink.message})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{htmlFor:"zoomMeetingId",children:"Meeting ID"}),(0,s.jsx)(c.Input,{id:"zoomMeetingId",placeholder:"123 456 7890",...v("zoomMeetingId")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{htmlFor:"zoomPasscode",children:"Passcode"}),(0,s.jsx)(c.Input,{id:"zoomPasscode",placeholder:"abc123",...v("zoomPasscode")})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,s.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Batal"}),(0,s.jsx)(d.Button,{type:"submit",disabled:g,children:g?"Menyimpan...":"edit"===p?"Perbarui":"Simpan"})]})]})]})})}e.s(["AddSessionDialog",()=>p],7874)},15958,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(26732),i=e.i(22016),r=e.i(75254);let n=(0,r.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=e.i(87316),l=e.i(3116),d=e.i(78716),c=e.i(78917);let u=(0,r.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var m=e.i(43531);let p=(0,r.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var f=e.i(19455),x=e.i(7874),g=e.i(15288),h=e.i(2747),j=e.i(75157);function y({params:e}){let{id:r}=(0,s.use)(e),{data:y}=(0,a.useSession)(),[v,N]=(0,s.useState)(null),[b,w]=(0,s.useState)(!0),[k,C]=(0,s.useState)(!1),[D,z]=(0,s.useState)(null),[I,R]=(0,s.useState)(!1);y?.user?.role;let S=y?.user?.role==="ADMIN"||y?.user?.role==="PENGAJAR";v?.attendances.some(e=>e.student.id===y?.user?.id);let P=async()=>{try{let e=await fetch(`/api/class-sessions/${r}`);if(e.ok){let t=await e.json();N(t)}}catch(e){console.error("Error fetching session:",e)}finally{w(!1)}};(0,s.useEffect)(()=>{P()},[r]);let M=(e,t)=>{navigator.clipboard.writeText(e),z(t),setTimeout(()=>z(null),2e3)};return b?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(h.Skeleton,{className:"h-8 w-48"}),(0,t.jsx)(h.Skeleton,{className:"h-64 w-full"})]}):v?(0,t.jsxs)("div",{className:"space-y-6 text-black",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(f.Button,{variant:"ghost",size:"icon",className:"bg-biru",asChild:!0,children:(0,t.jsx)(i.default,{href:"/sesi-kelas",children:(0,t.jsx)(n,{className:"h-5 w-5 text-white"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:v.title}),(0,t.jsxs)("p",{className:"inline-flex text-black bg-kuning px-2 rounded-lg mt-1",children:["oleh ",v.createdBy.name]})]})]}),S&&(0,t.jsx)(f.Button,{onClick:()=>R(!0),className:"bg-amber-300 hover:bg-amber-400",children:"Edit"})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 text-black",children:[(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{className:"inline-flex",children:(0,t.jsxs)(g.CardTitle,{className:"flex gap-2 items-center text-lg",children:[(0,t.jsx)(p,{className:"h-5 w-5"}),"Informasi Sesi"]})}),(0,t.jsxs)(g.CardContent,{className:"space-y-4",children:[v.description&&(0,t.jsx)("p",{className:"text-muted-foreground",children:v.description}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Calendar,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsx)("span",{children:(0,j.formatDate)(v.scheduledAt)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.Clock,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("span",{children:[new Date(v.scheduledAt).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})," WIB"]})]})]})]})]}),(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsxs)(g.CardTitle,{className:"flex gap-2 items-center text-lg",children:[(0,t.jsx)(d.Video,{className:"h-5 w-5"}),"Zoom Meeting"]})}),(0,t.jsx)(g.CardContent,{className:"space-y-4",children:v.zoomLink?(0,t.jsxs)(t.Fragment,{children:[v.zoomMeetingId&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Meeting ID"}),(0,t.jsx)("p",{className:"font-mono",children:v.zoomMeetingId})]}),(0,t.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>M(v.zoomMeetingId,"meetingId"),children:"meetingId"===D?(0,t.jsx)(m.Check,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(u,{className:"h-4 w-4"})})]}),v.zoomPasscode&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Passcode"}),(0,t.jsx)("p",{className:"font-mono",children:v.zoomPasscode})]}),(0,t.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>M(v.zoomPasscode,"passcode"),children:"passcode"===D?(0,t.jsx)(m.Check,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(u,{className:"h-4 w-4"})})]}),(0,t.jsxs)(f.Button,{className:"w-full bg-kuning",onClick:()=>window.open(v.zoomLink,"_blank"),children:[(0,t.jsx)(c.ExternalLink,{className:"mr-2 h-4 w-4"}),"Join Meeting"]})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"Link Zoom belum tersedia"})})]})]}),(0,t.jsx)(x.AddSessionDialog,{open:I,onOpenChange:e=>R(e),onSuccess:()=>{R(!1),P()},mode:"edit",sessionId:v.id,initialValues:{title:v.title,description:v.description??"",scheduledAt:v.scheduledAt,zoomLink:v.zoomLink??"",zoomMeetingId:v.zoomMeetingId??"",zoomPasscode:v.zoomPasscode??""}})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Sesi kelas tidak ditemukan"}),(0,t.jsx)(f.Button,{asChild:!0,className:"mt-4",children:(0,t.jsx)(i.default,{href:"/sesi-kelas",children:"Kembali"})})]})}e.s(["default",()=>y],15958)}]);