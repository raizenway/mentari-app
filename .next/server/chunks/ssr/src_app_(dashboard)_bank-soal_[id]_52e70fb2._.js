module.exports=[18987,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/app/(dashboard)/bank-soal/[id]/pdf-viewer.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/bank-soal/[id]/pdf-viewer.tsx <module evaluation>","default")},69768,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/app/(dashboard)/bank-soal/[id]/pdf-viewer.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/bank-soal/[id]/pdf-viewer.tsx","default")},21496,a=>{"use strict";a.i(18987);var b=a.i(69768);a.n(b)},1162,a=>{"use strict";var b,c,d,e,f,g,h=a.i(7997);a.i(70396);var i=a.i(73727),j=a.i(95936),k=a.i(9307),l=a.i(66518),m=a.i(38904),n=a.i(1269);let o=(0,n.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),p=(0,n.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var q=a.i(21496),r=a.i(81531);let s=a=>encodeURIComponent(a).replace(/[!'()*]/g,t),t=a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`,u=async a=>{let b=a?.Bucket||"";if("string"==typeof a.Bucket&&(a.Bucket=b.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),z(b)){if(!0===a.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else y(b)&&(-1===b.indexOf(".")||String(a.Endpoint).startsWith("http:"))&&b.toLowerCase()===b&&!(b.length<3)||(a.ForcePathStyle=!0);return a.DisableMultiRegionAccessPoints&&(a.disableMultiRegionAccessPoints=!0,a.DisableMRAP=!0),a},v=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,w=/(\d+\.){3}\d+/,x=/\.\./,y=a=>v.test(a)&&!w.test(a)&&!x.test(a),z=a=>{let[b,c,d,,,e]=a.split(":"),f="arn"===b&&a.split(":").length>=6,g=!!(f&&c&&d&&e);if(f&&!g)throw Error(`Invalid ARN: ${a} was an invalid ARN.`);return g},A=(a,b,c,d=!1)=>{let e=async()=>{let e;if(d){let d=c.clientContextParams;e=d?.[a]??c[a]??c[b]}else e=c[a]??c[b];return"function"==typeof e?e():e};return"credentialScope"===a||"CredentialScope"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.credentialScope??a?.CredentialScope}:"accountId"===a||"AccountId"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.accountId??a?.AccountId}:"endpoint"===a||"endpoint"===b?async()=>{if(!1===c.isCustomEndpoint)return;let a=await e();if(a&&"object"==typeof a){if("url"in a)return a.url.href;if("hostname"in a){let{protocol:b,hostname:c,port:d,path:e}=a;return`${b}//${c}${d?":"+d:""}${e}`}}return a}:e};class B extends Error{name="ProviderError";tryNextLink;constructor(a,b=!0){let c,d=!0;"boolean"==typeof b?(c=void 0,d=b):null!=b&&"object"==typeof b&&(c=b.logger,d=b.tryNextLink??!0),super(a),this.tryNextLink=d,Object.setPrototypeOf(this,B.prototype),c?.debug?.(`@smithy/property-provider ${d?"->":"(!)"} ${a}`)}static from(a,b=!0){return Object.assign(new this(a.message,b),a)}}class C extends B{name="CredentialsProviderError";constructor(a,b=!0){super(a,b),Object.setPrototypeOf(this,C.prototype)}}function D(a){try{let b=new Set(Array.from(a.match(/([A-Z_]){3,}/g)??[]));return b.delete("CONFIG"),b.delete("CONFIG_PREFIX_SEPARATOR"),b.delete("ENV"),[...b].join(", ")}catch(b){return a}}var E=a.i(14747);(b=e||(e={})).PROFILE="profile",b.SSO_SESSION="sso-session",b.SERVICES="services";let F=a=>Object.entries(a).filter(([a])=>{let b=a.indexOf(".");return -1!==b&&Object.values(e).includes(a.substring(0,b))}).reduce((a,[b,c])=>{let d=b.indexOf(".");return a[b.substring(0,d)===e.PROFILE?b.substring(d+1):b]=c,a},{...a.default&&{default:a.default}});var G=a.i(46786);let H={},I=()=>{let{HOME:a,USERPROFILE:b,HOMEPATH:c,HOMEDRIVE:d=`C:${E.sep}`}=process.env;if(a)return a;if(b)return b;if(c)return`${d}${c}`;let e=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return H[e]||(H[e]=(0,G.homedir)()),H[e]},J=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,K=["__proto__","profile __proto__"],L=a=>{let b,c,d={};for(let f of a.split(/\r?\n/)){let a=f.split(/(^|\s)[;#]/)[0].trim();if("["===a[0]&&"]"===a[a.length-1]){b=void 0,c=void 0;let d=a.substring(1,a.length-1),f=J.exec(d);if(f){let[,a,,c]=f;Object.values(e).includes(a)&&(b=[a,c].join("."))}else b=d;if(K.includes(d))throw Error(`Found invalid profile name "${d}"`)}else if(b){let e=a.indexOf("=");if(![0,-1].includes(e)){let[g,h]=[a.substring(0,e).trim(),a.substring(e+1).trim()];if(""===h)c=g;else{c&&f.trimStart()===f&&(c=void 0),d[b]=d[b]||{};let a=c?[c,g].join("."):g;d[b][a]=h}}}}return d};var M=a.i(12714);let N={},O={},P=(a,b)=>void 0!==O[a]?O[a]:((!N[a]||b?.ignoreCache)&&(N[a]=(0,M.readFile)(a,"utf8")),N[a]),Q=()=>({}),R=async(a={})=>{let{filepath:b=process.env.AWS_SHARED_CREDENTIALS_FILE||(0,E.join)(I(),".aws","credentials"),configFilepath:c=process.env.AWS_CONFIG_FILE||(0,E.join)(I(),".aws","config")}=a,d=I(),e=b;b.startsWith("~/")&&(e=(0,E.join)(d,b.slice(2)));let f=c;c.startsWith("~/")&&(f=(0,E.join)(d,c.slice(2)));let g=await Promise.all([P(f,{ignoreCache:a.ignoreCache}).then(L).then(F).catch(Q),P(e,{ignoreCache:a.ignoreCache}).then(L).catch(Q)]);return{configFile:g[0],credentialsFile:g[1]}},S="AWS_ENDPOINT_URL",T="endpoint_url",U=async a=>{let b;return(({environmentVariableSelector:a,configFileSelector:b,default:c},d={})=>{var e;let f,g,h,i,j,{signingName:k,logger:l}=d;return e=((...a)=>async()=>{let b;if(0===a.length)throw new B("No providers in chain");for(let c of a)try{return await c()}catch(a){if(b=a,a?.tryNextLink)continue;throw a}throw b})((f={signingName:k,logger:l},async()=>{try{let b=a(process.env,f);if(void 0===b)throw Error();return b}catch(b){throw new C(b.message||`Not found in ENV: ${D(a.toString())}`,{logger:f?.logger})}}),((a,{preferredFile:b="config",...c}={})=>async()=>{let d=c.profile||process.env.AWS_PROFILE||"default",{configFile:e,credentialsFile:f}=await R(c),g=f[d]||{},h=e[d]||{},i="config"===b?{...g,...h}:{...h,...g};try{let c="config"===b?e:f,d=a(i,c);if(void 0===d)throw Error();return d}catch(b){throw new C(b.message||`Not found in config files w/ profile [${d}]: ${D(a.toString())}`,{logger:c.logger})}})(b,d),(a=>"function"==typeof a?async()=>await a():()=>Promise.resolve(a))(c)),j=async()=>{h||(h=e());try{g=await h,i=!0}finally{h=void 0}return g},async a=>((!i||a?.forceRefresh)&&(g=await j()),g)})((b=a??"",{environmentVariableSelector:a=>{let c=a[[S,...b.split(" ").map(a=>a.toUpperCase())].join("_")];if(c)return c;let d=a[S];if(d)return d},configFileSelector:(a,c)=>{if(c&&a.services){let d=c[["services",a.services].join(".")];if(d){let a=d[[b.split(" ").map(a=>a.toLowerCase()).join("_"),T].join(".")];if(a)return a}}let d=a[T];if(d)return d},default:void 0}))()},V=a=>{let b;if("string"==typeof a)return V(new URL(a));let{hostname:c,pathname:d,port:e,protocol:f,search:g}=a;return g&&(b=function(a){let b={};if(a=a.replace(/^\?/,""))for(let c of a.split("&")){let[a,d=null]=c.split("=");a=decodeURIComponent(a),d&&(d=decodeURIComponent(d)),a in b?Array.isArray(b[a])?b[a].push(d):b[a]=[b[a],d]:b[a]=d}return b}(g)),{hostname:c,port:e?parseInt(e):void 0,protocol:f,path:d,query:b}},W=async(a,b,c,d)=>{if(!c.isCustomEndpoint){let a;(a=c.serviceConfiguredEndpoint?await c.serviceConfiguredEndpoint():await U(c.serviceId))&&(c.endpoint=()=>{var b;return Promise.resolve("object"==typeof(b=a)?"url"in b?V(b.url):b:V(b))},c.isCustomEndpoint=!0)}let e=await X(a,b,c);if("function"!=typeof c.endpointProvider)throw Error("config.endpointProvider is not set.");return c.endpointProvider(e,d)},X=async(a,b,c)=>{let d={},e=b?.getEndpointParameterInstructions?.()||{};for(let[b,f]of Object.entries(e))switch(f.type){case"staticContextParams":d[b]=f.value;break;case"contextParams":d[b]=a[f.name];break;case"clientContextParams":case"builtInParams":d[b]=await A(f.name,b,c,"builtInParams"!==f.type)();break;case"operationContextParams":d[b]=f.get(a);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(f))}return 0===Object.keys(e).length&&Object.assign(d,c),"s3"===String(c.serviceId).toLowerCase()&&await u(d),d};class Y{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(a){this.method=a.method||"GET",this.hostname=a.hostname||"localhost",this.port=a.port,this.query=a.query||{},this.headers=a.headers||{},this.body=a.body,this.protocol=a.protocol?":"!==a.protocol.slice(-1)?`${a.protocol}:`:a.protocol:"https:",this.path=a.path?"/"!==a.path.charAt(0)?`/${a.path}`:a.path:"/",this.username=a.username,this.password=a.password,this.fragment=a.fragment}static clone(a){var b;let c=new Y({...a,headers:{...a.headers}});return c.query&&(c.query=Object.keys(b=c.query).reduce((a,c)=>{let d=b[c];return{...a,[c]:Array.isArray(d)?[...d]:d}},{})),c}static isInstance(a){return!!a&&"method"in a&&"protocol"in a&&"hostname"in a&&"path"in a&&"object"==typeof a.query&&"object"==typeof a.headers}clone(){return Y.clone(this)}}let Z={},$={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),Z[a]=b,$[b]=a}function _(a){let b="";for(let c=0;c<a.byteLength;c++)b+=Z[a[c]];return b}var aa=a.i(874);let ab=a=>{let b=((a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?aa.Buffer.from(a,b):aa.Buffer.from(a)})(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)},ac=a=>"string"==typeof a?ab(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a),ad="X-Amz-Date",ae="X-Amz-Signature",af="X-Amz-Security-Token",ag="authorization",ah=ad.toLowerCase(),ai=[ag,ah,"date"],aj=ae.toLowerCase(),ak="x-amz-content-sha256",al=af.toLowerCase(),am={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},an=/^proxy-/,ao=/^sec-/,ap="AWS4-HMAC-SHA256",aq="aws4_request",ar={},as=[],at=(a,b,c)=>`${a}/${b}/${c}/${aq}`,au=async(a,b,c,d,e)=>{let f=await av(a,b.secretAccessKey,b.accessKeyId),g=`${c}:${d}:${e}:${_(f)}:${b.sessionToken}`;if(g in ar)return ar[g];for(as.push(g);as.length>50;)delete ar[as.shift()];let h=`AWS4${b.secretAccessKey}`;for(let b of[c,d,e,aq])h=await av(a,h,b);return ar[g]=h},av=(a,b,c)=>{let d=new a(b);return d.update(ac(c)),d.digest()},aw=({headers:a},b,c)=>{let d={};for(let e of Object.keys(a).sort()){if(void 0==a[e])continue;let f=e.toLowerCase();(!(f in am||b?.has(f)||an.test(f)||ao.test(f))||c&&(!c||c.has(f)))&&(d[f]=a[e].trim().replace(/\s+/g," "))}return d},ax=async({headers:a,body:b},c)=>{for(let b of Object.keys(a))if(b.toLowerCase()===ak)return a[b];if(void 0==b)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof b||ArrayBuffer.isView(b)||"function"==typeof ArrayBuffer&&b instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(b)){let a=new c;return a.update(ac(b)),_(await a.digest())}return"UNSIGNED-PAYLOAD"};class ay{format(a){let b=[];for(let c of Object.keys(a)){let d=ab(c);b.push(Uint8Array.from([d.byteLength]),d,this.formatHeaderValue(a[c]))}let c=new Uint8Array(b.reduce((a,b)=>a+b.byteLength,0)),d=0;for(let a of b)c.set(a,d),d+=a.byteLength;return c}formatHeaderValue(a){switch(a.type){case"boolean":return Uint8Array.from([+!a.value]);case"byte":return Uint8Array.from([2,a.value]);case"short":let b=new DataView(new ArrayBuffer(3));return b.setUint8(0,3),b.setInt16(1,a.value,!1),new Uint8Array(b.buffer);case"integer":let c=new DataView(new ArrayBuffer(5));return c.setUint8(0,4),c.setInt32(1,a.value,!1),new Uint8Array(c.buffer);case"long":let d=new Uint8Array(9);return d[0]=5,d.set(a.value.bytes,1),d;case"binary":let e=new DataView(new ArrayBuffer(3+a.value.byteLength));e.setUint8(0,6),e.setUint16(1,a.value.byteLength,!1);let f=new Uint8Array(e.buffer);return f.set(a.value,3),f;case"string":let g=ab(a.value),h=new DataView(new ArrayBuffer(3+g.byteLength));h.setUint8(0,7),h.setUint16(1,g.byteLength,!1);let i=new Uint8Array(h.buffer);return i.set(g,3),i;case"timestamp":let j=new Uint8Array(9);return j[0]=8,j.set(aA.fromNumber(a.value.valueOf()).bytes,1),j;case"uuid":if(!az.test(a.value))throw Error(`Invalid UUID received: ${a.value}`);let k=new Uint8Array(17);return k[0]=9,k.set(function(a){if(a.length%2!=0)throw Error("Hex encoded strings must have an even number length");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2){let d=a.slice(c,c+2).toLowerCase();if(d in $)b[c/2]=$[d];else throw Error(`Cannot decode unrecognized sequence ${d} as hexadecimal`)}return b}(a.value.replace(/\-/g,"")),1),k}}}(c=f||(f={}))[c.boolTrue=0]="boolTrue",c[c.boolFalse=1]="boolFalse",c[c.byte=2]="byte",c[c.short=3]="short",c[c.integer=4]="integer",c[c.long=5]="long",c[c.byteArray=6]="byteArray",c[c.string=7]="string",c[c.timestamp=8]="timestamp",c[c.uuid=9]="uuid";let az=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class aA{bytes;constructor(a){if(this.bytes=a,8!==a.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(a){if(a>0x8000000000000000||a<-0x8000000000000000)throw Error(`${a} is too large (or, if negative, too small) to represent as an Int64`);let b=new Uint8Array(8);for(let c=7,d=Math.abs(Math.round(a));c>-1&&d>0;c--,d/=256)b[c]=d;return a<0&&aB(b),new aA(b)}valueOf(){let a=this.bytes.slice(0),b=128&a[0];return b&&aB(a),parseInt(_(a),16)*(b?-1:1)}toString(){return String(this.valueOf())}}function aB(a){for(let b=0;b<8;b++)a[b]^=255;for(let b=7;b>-1&&(a[b]++,0===a[b]);b--);}let aC=a=>{for(let b of Object.keys((a=Y.clone(a)).headers))ai.indexOf(b.toLowerCase())>-1&&delete a.headers[b];return a},aD=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b};class aE{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){this.service=d,this.sha256=e,this.uriEscapePath=f,this.applyChecksum="boolean"!=typeof a||a,this.regionProvider=aD(c),this.credentialProvider=aD(b)}createCanonicalRequest(a,b,c){let d=Object.keys(b).sort();return`${a.method}
${this.getCanonicalPath(a)}
${(({query:a={}})=>{let b=[],c={};for(let d of Object.keys(a)){if(d.toLowerCase()===aj)continue;let e=s(d);b.push(e);let f=a[d];"string"==typeof f?c[e]=`${e}=${s(f)}`:Array.isArray(f)&&(c[e]=f.slice(0).reduce((a,b)=>a.concat([`${e}=${s(b)}`]),[]).sort().join("&"))}return b.sort().map(a=>c[a]).filter(a=>a).join("&")})(a)}
${d.map(a=>`${a}:${b[a]}`).join("\n")}

${d.join(";")}
${c}`}async createStringToSign(a,b,c,d){let e=new this.sha256;e.update(ac(c));let f=await e.digest();return`${d}
${a}
${b}
${_(f)}`}getCanonicalPath({path:a}){if(this.uriEscapePath){let b=[];for(let c of a.split("/"))c?.length!==0&&"."!==c&&(".."===c?b.pop():b.push(c));return s(`${a?.startsWith("/")?"/":""}${b.join("/")}${b.length>0&&a?.endsWith("/")?"/":""}`).replace(/%2F/g,"/")}return a}validateResolvedCredentials(a){if("object"!=typeof a||"string"!=typeof a.accessKeyId||"string"!=typeof a.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(a){var b;let c=("number"==typeof(b=a)?new Date(1e3*b):"string"==typeof b?new Date(Number(b)?1e3*Number(b):b):b).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:c,shortDate:c.slice(0,8)}}getCanonicalHeaderList(a){return Object.keys(a).sort().join(";")}}class aF extends aE{headerFormatter=new ay;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){super({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f})}async presign(a,b={}){let{signingDate:c=new Date,expiresIn:d=3600,unsignableHeaders:e,unhoistableHeaders:f,signableHeaders:g,hoistableHeaders:h,signingRegion:i,signingService:j}=b,k=await this.credentialProvider();this.validateResolvedCredentials(k);let l=i??await this.regionProvider(),{longDate:m,shortDate:n}=this.formatDate(c);if(d>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let o=at(n,l,j??this.service),p=((a,b={})=>{let{headers:c,query:d={}}=Y.clone(a);for(let a of Object.keys(c)){let e=a.toLowerCase();("x-amz-"===e.slice(0,6)&&!b.unhoistableHeaders?.has(e)||b.hoistableHeaders?.has(e))&&(d[a]=c[a],delete c[a])}return{...a,headers:c,query:d}})(aC(a),{unhoistableHeaders:f,hoistableHeaders:h});k.sessionToken&&(p.query[af]=k.sessionToken),p.query["X-Amz-Algorithm"]=ap,p.query["X-Amz-Credential"]=`${k.accessKeyId}/${o}`,p.query[ad]=m,p.query["X-Amz-Expires"]=d.toString(10);let q=aw(p,e,g);return p.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(q),p.query[ae]=await this.getSignature(m,o,this.getSigningKey(k,l,n,j),this.createCanonicalRequest(p,q,await ax(a,this.sha256))),p}async sign(a,b){return"string"==typeof a?this.signString(a,b):a.headers&&a.payload?this.signEvent(a,b):a.message?this.signMessage(a,b):this.signRequest(a,b)}async signEvent({headers:a,payload:b},{signingDate:c=new Date,priorSignature:d,signingRegion:e,signingService:f}){let g=e??await this.regionProvider(),{shortDate:h,longDate:i}=this.formatDate(c),j=at(h,g,f??this.service),k=await ax({headers:{},body:b},this.sha256),l=new this.sha256;l.update(a);let m=["AWS4-HMAC-SHA256-PAYLOAD",i,j,d,_(await l.digest()),k].join("\n");return this.signString(m,{signingDate:c,signingRegion:g,signingService:f})}async signMessage(a,{signingDate:b=new Date,signingRegion:c,signingService:d}){return this.signEvent({headers:this.headerFormatter.format(a.message.headers),payload:a.message.body},{signingDate:b,signingRegion:c,signingService:d,priorSignature:a.priorSignature}).then(b=>({message:a.message,signature:b}))}async signString(a,{signingDate:b=new Date,signingRegion:c,signingService:d}={}){let e=await this.credentialProvider();this.validateResolvedCredentials(e);let f=c??await this.regionProvider(),{shortDate:g}=this.formatDate(b),h=new this.sha256(await this.getSigningKey(e,f,g,d));return h.update(ac(a)),_(await h.digest())}async signRequest(a,{signingDate:b=new Date,signableHeaders:c,unsignableHeaders:d,signingRegion:e,signingService:f}={}){let g=await this.credentialProvider();this.validateResolvedCredentials(g);let h=e??await this.regionProvider(),i=aC(a),{longDate:j,shortDate:k}=this.formatDate(b),l=at(k,h,f??this.service);i.headers[ah]=j,g.sessionToken&&(i.headers[al]=g.sessionToken);let m=await ax(i,this.sha256);!((a,b)=>{for(let c of(a=a.toLowerCase(),Object.keys(b)))if(a===c.toLowerCase())return!0;return!1})(ak,i.headers)&&this.applyChecksum&&(i.headers[ak]=m);let n=aw(i,d,c),o=await this.getSignature(j,l,this.getSigningKey(g,h,k,f),this.createCanonicalRequest(i,n,m));return i.headers[ag]=`${ap} Credential=${g.accessKeyId}/${l}, SignedHeaders=${this.getCanonicalHeaderList(n)}, Signature=${o}`,i}async getSignature(a,b,c,d){let e=await this.createStringToSign(a,b,d,ap),f=new this.sha256(await c);return f.update(ac(e)),_(await f.digest())}getSigningKey(a,b,c,d){return au(this.sha256,a,c,b,d||this.service)}}(d=g||(g={})).ENV="env",d.CONFIG="shared config entry";let aG="X-Amz-S3session-Token",aH=aG.toLowerCase();class aI extends aF{async signWithCredentials(a,b,c){let d=aJ(b);return a.headers[aH]=b.sessionToken,aK(this,d),this.signRequest(a,c??{})}async presignWithCredentials(a,b,c){let d=aJ(b);return delete a.headers[aH],a.headers[aG]=b.sessionToken,a.query=a.query??{},a.query[aG]=b.sessionToken,aK(this,d),this.presign(a,c)}}function aJ(a){return{accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,expiration:a.expiration}}function aK(a,b){let c=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),d=a.credentialProvider;a.credentialProvider=()=>(clearTimeout(c),a.credentialProvider=d,Promise.resolve(b))}class aL{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"none"}constructor(a){this.sigv4Signer=new aI(a),this.signerOptions=a}async sign(a,b={}){return"*"===b.signingRegion?this.getSigv4aSigner().sign(a,b):this.sigv4Signer.sign(a,b)}async signWithCredentials(a,b,c={}){if("*"===c.signingRegion){let a=this.getSigv4aSigner();!1;throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(a,b,c)}async presign(a,b={}){if("*"===b.signingRegion){let a=this.getSigv4aSigner();!1;throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(a,b)}async presignWithCredentials(a,b,c={}){if("*"===c.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(a,b,c)}getSigv4aSigner(){if(!this.sigv4aSigner)if("node"===this.signerOptions.runtime){!0;throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{!0;throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a")}return this.sigv4aSigner}}class aM{signer;constructor(a){const b={service:a.signingName||a.service||"s3",uriEscapePath:a.uriEscapePath||!1,applyChecksum:a.applyChecksum||!1,...a};this.signer=new aL(b)}presign(a,{unsignableHeaders:b=new Set,hoistableHeaders:c=new Set,unhoistableHeaders:d=new Set,...e}={}){return this.prepareRequest(a,{unsignableHeaders:b,unhoistableHeaders:d,hoistableHeaders:c}),this.signer.presign(a,{expiresIn:900,unsignableHeaders:b,unhoistableHeaders:d,...e})}presignWithCredentials(a,b,{unsignableHeaders:c=new Set,hoistableHeaders:d=new Set,unhoistableHeaders:e=new Set,...f}={}){return this.prepareRequest(a,{unsignableHeaders:c,unhoistableHeaders:e,hoistableHeaders:d}),this.signer.presignWithCredentials(a,b,{expiresIn:900,unsignableHeaders:c,unhoistableHeaders:e,...f})}prepareRequest(a,{unsignableHeaders:b=new Set,unhoistableHeaders:c=new Set,hoistableHeaders:d=new Set}={}){b.add("content-type"),Object.keys(a.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{d.has(a)||c.add(a)}),a.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD";let e=a.headers.host,f=a.port,g=`${a.hostname}${null!=a.port?":"+f:""}`;e&&(e!==a.hostname||null==a.port)||(a.headers.host=g)}}let aN=async(a,b,c={})=>{let d,e;if("function"==typeof a.config.endpointProvider){let c=await W(b.input,b.constructor,a.config),f=c.properties?.authSchemes?.[0];e=f?.name==="sigv4a"?f?.signingRegionSet?.join(","):f?.signingRegion,d=new aM({...a.config,signingName:f?.signingName,region:async()=>e})}else d=new aM(a.config);let f=a.middlewareStack.clone();f.addRelativeTo((a,b)=>async a=>{let{request:f}=a;if(!Y.isInstance(f))throw Error("Request to be presigned is not an valid HTTP request.");delete f.headers["amz-sdk-invocation-id"],delete f.headers["amz-sdk-request"],delete f.headers["x-amz-user-agent"];let g={...c,signingRegion:c.signingRegion??b.signing_region??e,signingService:c.signingService??b.signing_service};return{response:{},output:{$metadata:{httpStatusCode:200},presigned:b.s3ExpressIdentity?await d.presignWithCredentials(f,b.s3ExpressIdentity,g):await d.presign(f,g)}}},{name:"presignInterceptMiddleware",relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let g=b.resolveMiddleware(f,a.config,{}),{output:h}=await g({input:b.input}),{presigned:i}=h;return function(a){let{port:b,query:c}=a,{protocol:d,path:e,hostname:f}=a;d&&":"!==d.slice(-1)&&(d+=":"),b&&(f+=`:${b}`),e&&"/"!==e.charAt(0)&&(e=`/${e}`);let g=c?function(a){let b=[];for(let c of Object.keys(a).sort()){let d=a[c];if(c=s(c),Array.isArray(d))for(let a=0,e=d.length;a<e;a++)b.push(`${c}=${s(d[a])}`);else{let a=c;(d||"string"==typeof d)&&(a+=`=${s(d)}`),b.push(a)}}return b.join("&")}(c):"";g&&"?"!==g[0]&&(g=`?${g}`);let h="";if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";h=`${b}:${c}@`}let i="";return a.fragment&&(i=`#${a.fragment}`),`${d}//${h}${f}${e}${g}${i}`}(i)};async function aO({params:a}){let b=await (0,k.auth)(),{id:c}=await a,d=await l.prisma.bankSoal.findUnique({where:{id:c},include:{category:!0,uploadedBy:{select:{name:!0}}}});d||(0,i.notFound)();let e=b?.user.role==="ADMIN",f=d.fileUrl,g=process.env.R2_ACCOUNT_ID,n=process.env.R2_BUCKET_NAME,s=process.env.R2_ACCESS_KEY_ID,t=process.env.R2_SECRET_ACCESS_KEY;if(d.filePublicId&&g&&n&&s&&t)try{let a=new r.S3Client({region:process.env.R2_REGION||"auto",endpoint:`https://${g}.r2.cloudflarestorage.com`,credentials:{accessKeyId:s,secretAccessKey:t}}),b=new r.GetObjectCommand({Bucket:n,Key:d.filePublicId});await aN(a,b,{expiresIn:3600}),f=`/api/r2/stream?key=${encodeURIComponent(d.filePublicId)}`}catch(a){console.error("Error creating signed GET for R2:",a),f=d.fileUrl}return(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)(j.default,{href:"/bank-soal",children:(0,h.jsx)(m.Button,{variant:"ghost",size:"icon",children:(0,h.jsx)(o,{className:"h-5 w-5"})})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:d.title}),(0,h.jsxs)("p",{className:"text-sm text-gray-500",children:["Kategori: ",d.category.name," â€¢ Diupload oleh:"," ",d.uploadedBy.name]})]})]}),e&&(0,h.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",download:!0,children:(0,h.jsxs)(m.Button,{variant:"outline",className:"text-black",children:[(0,h.jsx)(p,{className:"mr-2 h-4 w-4"}),"Download"]})})]}),(0,h.jsx)("div",{className:"bg-white rounded-lg border overflow-hidden",children:(0,h.jsx)(q.default,{fileUrl:f})})]})}a.s(["default",()=>aO],1162)}];

//# sourceMappingURL=src_app_%28dashboard%29_bank-soal_%5Bid%5D_52e70fb2._.js.map